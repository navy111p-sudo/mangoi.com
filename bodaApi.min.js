(function(k){if("undefined"==typeof jQuery)console.warn("[BodaApi] requied jQuery. v1.7 이상");else{var e={debug:!1,installPage:"include",tcps:{key:""},avSet:{serverCheck:0},company:{code:0,authKey:"",id:""},client:{encrypt:!1,windows:{product:"BODA"},mobile:{store:!0,scheme:"cloudboda",packagename:"zone.cloudboda"},mac:{store:!0,scheme:"cloudboda",packagename:"zone.cloudboda"},webRtc:{uri:"/room",method:"POST"},language:"ko",theme:2},agent:{scheme:"bodaagent",uri:"mvAgent",port:{https:13741},timeout:1E4,
errorRetry:0},web:{url:"https://boda.saeha.com",service:"",webRtc:"https://webrtc.boda.zone"}};k.addEventListener("message",function(a){a.data.multiview?(e.debug&&console.debug("[BodaApi] Event Message [",a.data.multiview,"]"),"close"==a.data.multiview.event&&$("#boda_install").remove()):a.data.boda&&(e.debug&&console.debug("[BodaApi] Event Message [",a.data.boda,"]"),"close"==a.data.boda.event&&$("#boda_install").remove())});var l={installGuide:function(a,b,c){a=e.web.url+"/program/installGuide.do?groupcode\x3d"+
e.company.code+"\x26language\x3d"+e.client.language+"\x26platform\x3d"+a;if("popup"==e.installPage){var f,m;m=void 0!=k.screenTop?k.screenTop:screen.top;var d=k.innerHeight?k.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;f=(k.innerWidth?k.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-300+(void 0!=k.screenLeft?k.screenLeft:screen.left);m=d/2-475+m;d=[];d.push("width\x3d950");d.push("height\x3d600");
m&&d.push("top\x3d"+m);f&&d.push("left\x3d"+f);d.push("toolbar\x3dno");d.push("menubar\x3dno");d.push("scrollbars\x3dno");d.push("resizable\x3dno");d.push("fullscreen\x3dno");d.push("fullscreen\x3dno");d.push("status\x3dno");d.push("titlebar\x3dno");var g=k.open(a,"boda_install",d.join(","));setTimeout(function(){g.postMessage({boda:{event:"clientMessage",defaultSetting:b,msg:c}},"*")},1500)}else if("tab"==e.installPage)g=k.open(a,"_blank"),setTimeout(function(){g.postMessage({boda:{event:"clientMessage",
defaultSetting:BodaApi_default,msg:c}},"*")},1500);else if("include"==e.installPage){var h=$('\x3ciframe id\x3d"boda_install" class\x3d"boda_install" style\x3d"z-index: 99999; border: 0; position: fixed; left: 0; top: 0; width: 100%; height: 100%" scrolling\x3d"yes"\x3e\x3c/iframe\x3e');h.attr("src",a);setTimeout(function(){jQuery("body").append(h);h.get(0).onload=function(){console.log("if load.");h.get(0).contentWindow.postMessage({boda:{event:"clientMessage",defaultSetting:b,msg:c}},"*")}},500)}},
exec:function(a,b,c,f){a.AOS||a.IOS||a.WIN||a.MAC?(location.href=e.web.url+"/program/download/"+e.company.code+"/"+h.getPlatform(a)+".do?language\x3d"+e.client.language,c()):f(g.NOT_SUPPORTED_DEVICE,a)}},g={NONE_REQUIRED_VALUE:"BODAAPI-NONE_REQUIRED_VALUE",INVALID_VALUE:"BODAAPI-INVALID_VALUE",NONE_TCPS_INFO:"BODAAPI-NONE_TCPS_INFO",NONE_SERVER_INFO:"BODAAPI-NONE_SERVER_INFO",NONE_COMPANY_INFO:"BODAAPI-NONE_COMPANY_INFO",NOT_SUPPORTED_DEVICE:"BODAAPI-NOT_SUPPORTED_DEVICE",NOT_CONNECTED_AGENT:"BODAAPI-NOT_CONNECTED_AGENT",
ALREADY_EXECUTE_PROGRAM:"BODAAPI-ALREADY_EXECUTE_PROGRAM",NOT_RUNNING_PROGRAM:"BODAAPI-NOT_RUNNING_PROGRAM",WIN_CALL_ERROR:"BODAAPI-WIN_CALL_ERROR",APP_CALL_ERROR:"BODAAPI-APP_CALL_ERROR",NOT_INSTALLED:"BODAAPI-NOT_INSTALLED",MSG_MAX_LENGTH_EXCEED:"BODAAPI-MSG_MAX_LENGTH_EXCEED",SCHEME_MSG_LENGTH_EXCEED:"BODAAPI-SCHEME_MSG_LENGTH_EXCEED",UNDEFINED_ERROR:"BODAAPI-UNDEFINED_ERROR"};"undefined"==typeof console&&(console={log:function(){},info:function(){},debug:function(){},error:function(){}});"undefined"==
typeof console.log&&(console.log=function(){});"undefined"==typeof console.info&&(console.info=console.log);"undefined"==typeof console.debug&&(console.debug=console.log);"undefined"==typeof console.warn&&(console.warn=console.log);"undefined"==typeof console.error&&(console.error=console.log);var h={_userAgent:null,platformType:{Windows:"WINDOWS",Mac:"MAC",Android:"ANDROID",iOS:"IOS",ChromeOS:"CHROMEOS",Unknown:"UNKNOWN"},platform:null,ext:{chromeVersion:0,isNative:!1,isNaverApp:!1,isKakaoTalkApp:!1},
parse:function(a){this._userAgent=a;if(null!=this._userAgent.match("Windows"))this.platform=this.platformType.Windows;else if(null!=this._userAgent.match("Android"))this.platform=this.platformType.Android;else if(null!=this._userAgent.match("iPhone")||null!=this._userAgent.match("iPad"))this.platform=this.platformType.iOS;else if(null!=this._userAgent.match("Mac")||null!=this._userAgent.match("Macintosh"))this.platform=navigator.maxTouchPoints&&2<navigator.maxTouchPoints?this.platformType.iOS:this.platformType.Mac;
else if(null!=this._userAgent.match("CrOS"))this.platform=this.platformType.ChromeOS;else try{document.createEvent("TouchEvent"),this.platform=this.platformType.Android}catch(c){this.platform=this.platformType.Unknown}try{var b=this._userAgent.match(/Chrome\/[^\ ]*/)[0].toLowerCase().substr(7);this.ext.chromeVersion=parseFloat(b.substr(0,b.indexOf(".")))}catch(c){}try{this.ext.isNative=null!=navigator.userAgent.match(/NATIVE/)}catch(c){}try{this.ext.isNaverApp=null!=navigator.userAgent.match(/NAVER/)}catch(c){}try{this.ext.isKakaoTalkApp=
null!=navigator.userAgent.match(/KAKAOTALK/)}catch(c){}try{this.ext.isWebapp=null!=navigator.userAgent.match(/WEBAPP/)}catch(c){}},isWindows:function(){return this.platform==this.platformType.Windows},isMac:function(){return this.platform==this.platformType.Mac},isAndroid:function(){return this.platform==this.platformType.Android},isIos:function(){return this.platform==this.platformType.iOS},isChromeOS:function(){return this.platform==this.platformType.ChromeOS},isMobile:function(){return this.platform==
this.platformType.Android||this.platformType.iOS||this.platformType.ChromeOS},getPlatform:function(a){return a.WIN?h.platformType.Windows:a.MAC?h.platformType.Mac:a.AOS?h.platformType.Android:a.IOS?h.platformType.iOS:h.platformType.Unknown}};h.parse(k.navigator.userAgent);var u={parameter:{command:"command",tcpsInfo:"tcpsInfo",companyInfo:"companyInfo",clientInfo:"clientInfo",confInfo:"confInfo",confOption:"confOption",confInfoEx:"confInfoEx",joinInfo:"joinInfo",userInfo:"userInfo",webInfo:"webInfo",
serviceInfo:"serviceInfo",directWebInfo:"directWebInfo",deviceInfo:"deviceInfo",webMessage:"webMessage",messageInfo:"messageInfo",playInfo:"playInfo",serverCheck:"serverCheck",execMsg:"execMsg",checkTraffic:"checkTraffic"},make:function(a,b,c){var f=this,m=[];$.each(a,function(a,e){"function"==typeof f._parameterMaker[e]?m.push(f._parameterMaker[e].call(f,b,c)):console.warn("[BodaApi] Unknown Parameter Key. ",e)});a=m.join("\x26");e.debug&&console.debug("[BodaApi] Message: ",a);return a},_parameterMaker:{command:function(a){return this._makeKeyValue(this.parameter.command,
a)},tcpsInfo:function(a,b){return this._makeKeyValue(this.parameter.tcpsInfo,[e.tcps.key,"0",b.domainExtension,b.staticIp])},companyInfo:function(){return this._makeKeyValue(this.parameter.companyInfo,[e.company.code,e.company.authKey,""])},clientInfo:function(a,b){return this._makeKeyValue(this.parameter.clientInfo,[e.client.language,e.client.theme,1,0])},confInfo:function(a,b){return this._makeKeyValue(this.parameter.confInfo,[b.roomCode,b.template,b.title,b.openOption,b.rac])},confOption:function(a,
b){if(void 0==b.roomOption)return null;if("object"==typeof b.roomOption){var c=[];$.each(b.roomOption,function(a,b){c.push(a+"\x3d"+b)});return this._makeKeyValue(this.parameter.confOption,c.join("\x26"))}return this._makeKeyValue(this.parameter.confOption,b.roomOption)},confInfoEx:function(a,b){if(void 0==b.extraMsg)return null;a=b.extraMsg;"object"==typeof a&&(a=JSON.stringify(a));return this._makeKeyValue(this.parameter.confInfoEx,a)},joinInfo:function(a,b){return this._makeKeyValue(this.parameter.joinInfo,
[b.roomCode,b.joinUserType,0,b.domainExtension])},userInfo:function(a,b){return this._makeKeyValue(this.parameter.userInfo,[e.company.code,e.company.authKey,0,b.userId,"",b.userName,e.company.id,b.deptNumber])},webInfo:function(a,b){return this._makeKeyValue(this.parameter.webInfo,[e.web.url])},serviceInfo:function(a,b){return this._makeKeyValue(this.parameter.serviceInfo,[e.web.service])},directWebInfo:function(a,b){return this._makeKeyValue(this.parameter.directWebInfo,b.directWebInfo)},deviceInfo:function(a,
b){return this._makeKeyValue(this.parameter.deviceInfo,b.deviceId)},webMessage:function(a,b){a=b.webMessage;"object"==typeof a&&(a=JSON.stringify(a));return this._makeKeyValue(this.parameter.webMessage,a)},messageInfo:function(a,b){a=b.messageData;"object"==typeof a&&(a=JSON.stringify(a));return this._makeKeyValue(this.parameter.messageInfo,a)},playInfo:function(a,b){return this._makeKeyValue(this.parameter.playInfo,b.filePath)},serverCheck:function(a,b){return this._makeKeyValue(this.parameter.serverCheck,
e.avSet.serverCheck)},execMsg:function(a,b){return b.execMsg},checkTraffic:function(a,b){return this._makeKeyValue(this.parameter.checkTraffic,[e.tcps.key,b.uploadUri])}},_makeKeyValue:function(a,b){var c=this;if("object"==typeof b){var f=[];$.each(b,function(a,b){f.push(c._escape(b))});b=f.join("|")}else b=void 0==b?"":this._escape(b);return a+"\x3d"+b},_escape:function(a){"string"==typeof a&&(a=a.replace(/&/gi,String.fromCharCode(162)),a=a.replace(/=/gi,String.fromCharCode(163)),a=a.replace(/[|]/gi,
String.fromCharCode(164)));return a}},n={Scheme:{exec:function(a,b,c,f){this._makeAndCallScheme({COMMAND:"exec",PRODUCTNAME:e.client.windows.product,MSGTYPE:a,EXECMSG:1==a?b:k.btoa(encodeURIComponent(b))},c,f)},_makeAndCallScheme:function(a,b,c){var f=e.agent.scheme+"://"+e.agent.uri,m=[],d=f;a&&($.each(a,function(a,b){m.push(a+"\x3d"+b)}),d=f+"?"+m.join("\x26"));2E3<d.length&&(c(g.SCHEME_MSG_LENGTH_EXCEED,"scheme message ("+d.length+"/2000)"),d=f);k.location.href=d;b()}},Http:{_ajaxOptions:{type:"post",
dataType:"json",async:!0,cache:!1,timeout:1E4},running:function(a,b){var c=0,f=$.extend({},this._ajaxOptions);e.agent.timeout&&(f.timeout=e.agent.timeout);f.url=this._makeHost();f.data={COMMAND:"running",PRODUCTNAME:e.client.windows.product};f.success=function(c){c.RETURN==n._retuenCode.CLIENT_RUNNING?a():b(g.NOT_RUNNING_PROGRAM,c.RETURN)};f.error=function(a,d,r){0==a.readyState?c<e.agent.errorRetry?setTimeout(function(){$.ajax(f)},500):(b(g.NOT_CONNECTED_AGENT),l.installGuide(h.platformType.Windows)):
409==a.status?c<e.agent.errorRetry?setTimeout(function(){$.ajax(f)},500):(b(g.UNDEFINED_ERROR,"ssl handshake faild"),l.installGuide(h.platformType.Windows)):(b(g.UNDEFINED_ERROR),l.installGuide(h.platformType.Windows));c++};$.ajax(f)},installCheck:function(a,b){var c=$.extend({},this._ajaxOptions);e.agent.timeout&&(c.timeout=e.agent.timeout);c.url=this._makeHost();c.data={COMMAND:"check",PRODUCTNAME:e.client.windows.product};c.success=function(b){a()};var f=0;c.error=function(a,d,h){0==a.readyState?
b(g.NOT_CONNECTED_AGENT):409==a.status?b(g.UNDEFINED_ERROR,"ssl handshake faild"):b(g.UNDEFINED_ERROR);try{setTimeout(function(){f++;e.debug&&console.debug("[BodaApi] retry:"+f);$.ajax(c)},1E3)}catch(v){console.log(v)}};$.ajax(c)},exec:function(a,b,c,f){var d=0,p=$.extend({},this._ajaxOptions);e.agent.timeout&&(p.timeout=e.agent.timeout);p.url=this._makeHost();p.data={COMMAND:"exec",PRODUCTNAME:e.client.windows.product,MSGTYPE:a,EXECMSG:encodeURIComponent(b)};p.success=function(d){d.RETURN==n._retuenCode.OK||
d.RETURN==n._retuenCode.CLIENT_MISS_VERSION?c():d.RETURN==n._retuenCode.WA_UNKNOWN_PARAMETER||d.RETURN==n._retuenCode.CLIENT_FAIL?f(g.WIN_CALL_ERROR,d.RETURN):d.RETURN==n._retuenCode.CLIENT_NO_ANSWER?(f(g.NOT_INSTALLED,d.RETURN),l.installGuide(h.platformType.Windows,q.defaultSettings(),{COMMAND:"exec",MSGTYPE:a,EXECMSG:b})):d.RETURN==n._retuenCode.CLIENT_FAIL_ALREADYEXIST?f(g.ALREADY_EXECUTE_PROGRAM,d.RETURN):f(g.UNDEFINED_ERROR,d.RETURN)};p.error=function(c,m,k){0==c.readyState?d<e.agent.errorRetry?
setTimeout(function(){$.ajax(p)},500):(f(g.NOT_CONNECTED_AGENT),l.installGuide(h.platformType.Windows,q.defaultSettings(),{COMMAND:"exec",MSGTYPE:a,EXECMSG:b})):409==c.status?d<e.agent.errorRetry?setTimeout(function(){$.ajax(p)},500):(f(g.UNDEFINED_ERROR,"ssl handshake faild"),l.installGuide(h.platformType.Windows,q.defaultSettings(),{COMMAND:"exec",MSGTYPE:a,EXECMSG:b})):(f(g.UNDEFINED_ERROR),l.installGuide(h.platformType.Windows,q.defaultSettings(),{COMMAND:"exec",MSGTYPE:a,EXECMSG:b}));d++};$.ajax(p)},
checkTraffic:function(a,b,c){var f=$.extend({},this._ajaxOptions);e.agent.timeout&&(f.timeout=e.agent.timeout);f.url=this._makeHost();f.data={COMMAND:"checkTraffic",EXECMSG:encodeURIComponent(a)};f.success=function(a){a.RETURN==n._retuenCode.OK?b():a.RETURN==n._retuenCode.WA_UNKNOWN_PARAMETER?c(g.WIN_CALL_ERROR,a.RETURN):c(g.UNDEFINED_ERROR,a.RETURN)};f.error=function(a,b,d){0==a.readyState?(c(g.NOT_CONNECTED_AGENT),l.installGuide(h.platformType.Windows)):409==a.status?0<e.agent.errorRetry?setTimeout(function(){$.ajax(f)},
500):(c(g.UNDEFINED_ERROR,"ssl handshake faild"),l.installGuide(h.platformType.Windows)):(c(g.UNDEFINED_ERROR),l.installGuide(h.platformType.Windows))};$.ajax(f)},_makeHost:function(){return"https://127.0.0.1:"+e.agent.port.https+"/"+e.agent.uri}},_retuenCode:{OK:"OK",WA_MISS_VERSION:"WA_MISS_VERSION",WA_UNKNOWN_PARAMETER:"WA_UNKNOWN_PARAMETER",CLIENT_NO_ANSWER:"CLIENT_NO_ANSWER",CLIENT_MISS_VERSION:"CLIENT_MISS_VERSION",CLIENT_FAIL_ALREADYEXIST:"CLIENT_FAIL_ALREADYEXIST",CLIENT_MISS_PASSWORD:"CLIENT_MISS_PASSWORD",
CLIENT_FAIL:"CLIENT_FAIL",OK_BANISHFORCE:"OK_BANISHFORCE",OK_CLOSURE:"OK_CLOSURE",CLIENT_RUNNING:"CLIENT_RUNNING",CLIENT_NOT_RUNNING:"CLIENT_NOT_RUNNING"}},w={exec:function(a,b,c,f,d){h.ext.isNative?this._toApp(b,c,f,d):h.ext.isWebapp?this._toWebapp(b,c,f,d):a.AOS?(a=[],a.push("intent://"+(b?"em":"mv")+"?"+c+"#Intent"),a.push("scheme\x3d"+e.client.mobile.scheme),a.push("action\x3dandroid.intent.action.VIEW;category\x3dandroid.intent.category.BROWSABLE"),e.client.mobile.store&&h.ext.isKakaoTalkApp&&
a.push("package\x3d"+e.client.mobile.packagename),a.push("end"),this._exec_android(a.join(";"),f,d)):a.IOS?(a=e.client.mobile.scheme+"://"+(b?"em":"mv")+"?"+c,this._exec_ios(a,f,d)):a.MAC&&(a=e.client.mac.scheme+"://"+(b?"em":"mv")+"?"+c,this._exec_mac(a,f,d))},_toApp:function(a,b,c,f){e.debug&&console.debug("[BodaApi] toApp.");var d=b;1==a&&(d="command\x3dem\x26data\x3d"+b);try{if(h.isAndroid())k.callbackHandler.postMessage(d),c();else if(h.isIos()||h.isMac())webkit.messageHandlers.callbackHandler.postMessage(d),
c()}catch(p){console.error(p),f(g.APP_CALL_ERROR,p)}},_toWebapp:function(a,b,c,d){a=e.client.mobile.scheme+"://"+(a?"em":"mv")+"?"+b;e.debug&&console.debug("[BodaApi] toWebapp. scheme:"+a);k.location.href=a;c()},_exec_android:function(a,b,c){e.debug&&console.debug("[BodaApi] Android Scheme [",a,"]",h.ext.chromeVersion);if(e.client.mobile.store)if(h.ext.isKakaoTalkApp){var d=k.open();d?(d.location.href=a,setTimeout(function(){d.closed?b():(d.close(),l.installGuide(h.platformType.Android),c(g.NOT_INSTALLED))},
1E3)):alert(e.localeMessage.allowPopup)}else{k.location.href=a;var m=+new Date;setTimeout(function(){1200>new Date-m?(l.installGuide(h.platformType.Android),c(g.NOT_INSTALLED)):b()},1E3)}else 42>h.ext.chromeVersion&&25<=h.ext.chromeVersion?(d=k.open())?(d.location.href=a,setTimeout(function(){d.closed?b():(d.close(),l.installGuide(h.platformType.Android),c(g.NOT_INSTALLED))},1E3)):alert("팝업을 허용하고 다시 시도해 주세요."):(k.location.href=a,m=+new Date,setTimeout(function(){1200>new Date-m?(l.installGuide(h.platformType.Android),
c(g.NOT_INSTALLED)):b()},1E3))},_exec_ios:function(a,b,c){e.debug&&console.debug("[BodaApi] iOS Scheme [",a,"]");var d=+new Date;setTimeout(function(){2E3>+new Date-d?(l.installGuide(h.platformType.iOS),c(g.NOT_INSTALLED)):b()},1500);0<parent.window.frames.length?parent.window.location.href=a:k.location.href=a},_exec_mac:function(a,b,c){e.debug&&console.debug("[BodaApi] Mac Scheme [",a,"]");$("#appSchemeCheckFrame").remove();var d=$("\x3ciframe\x3e\x3c/iframe\x3e",{id:"appSchemeCheckFrame",src:a,
width:0,height:0}).css({border:"0",display:"none"}).appendTo("body");setTimeout(function(){var a=d.contents().find("body").html();null==a||""==a||void 0==a?(l.installGuide(h.platformType.Mac),c(g.NOT_INSTALLED)):b()},1E3)}},x={exec:function(a,b,c,d,g){var f=e.web.webRtc+e.client.webRtc.uri;g=(new Date).getTime();var m=void 0==c.multiUserJoin?!1:c.multiUserJoin;c=c.wsIp;if("POST"==e.client.webRtc.method){var l=$("\x3cform\x3e",{id:"_mv_webrtc_form_"+g,method:"POST",target:"MV_WEBRTC_ROOM"+(m?"_"+g:
""),action:f});b=$("\x3cinput\x3e",{type:"hidden",name:"message",value:b});a=$("\x3cinput\x3e",{type:"hidden",name:"msgType",value:a});var f=$("\x3cinput\x3e",{type:"hidden",name:"device",value:h.platform}),n=$("\x3cinput\x3e",{type:"hidden",name:"multiuser",value:m}),q=$("\x3cinput\x3e",{type:"hidden",name:"wsIp",value:c});l.append(b);l.append(a);l.append(f);m&&l.append(n);void 0!=c&&l.append(q);$("body").append(l);var t=$('\x3ca href\x3d"about:blank" id\x3d"_mv_webrtc_link_'+g+'" target\x3d"MV_WEBRTC_ROOM'+
(m?"_"+g:"")+'"\x3e\x3c/a\x3e');$("body").append(t);$("#_mv_webrtc_link_"+g)[0].click();setTimeout(function(){l.submit();t.remove();l.remove()},100)}else g=k.btoa(encodeURIComponent(JSON.stringify({message:b,msgType:a,device:h.platform}))),location.href=f+"?p\x3d"+g;d()}},t={leadingZeros:function(a,b){var c="";a=a.toString();if(b>a.length)for(var d=0;b-a.length>d;d++)c+="0";return c+a},trim:function(a){return"string"!=typeof a?a:a.replace(/^\s+|\s+$/g,"")},getTextLength:function(a){for(var b=0,c=
0;c<a.length;c++)6==escape(a.charAt(c)).length&&b++,b++;return b}},d={api:{running:{name:"running",parameters:["command"]},installCheck:{name:"installCheck",parameters:["command"]},downloadClient:{name:"downloadClient",parameters:null},open:{name:"open",parameters:"command tcpsInfo companyInfo clientInfo confInfo confOption userInfo webInfo serviceInfo confInfoEx".split(" ")},openJoin:{name:"openJoin",parameters:"command tcpsInfo companyInfo clientInfo confInfo confOption joinInfo userInfo webInfo serviceInfo confInfoEx".split(" ")},
join:{name:"join",parameters:"command tcpsInfo companyInfo clientInfo joinInfo userInfo webInfo serviceInfo confInfoEx".split(" ")},close:{name:"close",parameters:"command tcpsInfo companyInfo clientInfo confInfo userInfo webInfo serviceInfo".split(" ")},quit:{name:"quit",parameters:"command tcpsInfo companyInfo clientInfo confInfo userInfo webInfo serviceInfo".split(" ")},end:{name:"end",parameters:"command tcpsInfo companyInfo clientInfo confInfo userInfo webInfo serviceInfo".split(" ")},avset:{name:"avset",
parameters:"command tcpsInfo clientInfo webInfo serviceInfo serverCheck".split(" ")},play:{name:"play",parameters:"command tcpsInfo companyInfo playInfo webInfo serviceInfo".split(" ")},msgExec:{name:"msgExec",parameters:[]},webLoad:{name:"webLoad",parameters:["command","directWebInfo","deviceInfo"]},logout:{name:"logout",parameters:["command","clientInfo"]},relogin:{name:"relogin",parameters:["command","clientInfo"]},webMessage:{name:"webMessage",parameters:["command","webMessage"]},message:{name:"message",
parameters:["command","messageInfo"]},openWebPage:{name:"openWebPage",parameters:["command","messageInfo"]},exec:{name:"exec",parameters:["execMsg"]},checkTraffic:{name:"checkTraffic",parameters:["checkTraffic"]}},_validation:function(a,b,c){if(a.name!=this.api.exec.name){if(void 0==e.tcps.key||""==e.tcps.key)return console.warn("[BodaApi] tcps.key is required."),c(g.NONE_TCPS_INFO,"tcps.key"),!1;if(void 0==e.company.code||2>e.company.code)return console.warn("[BodaApi] company.code is required."),
c(g.NONE_COMPANY_INFO,"company.code"),!1;if(void 0==e.company.authKey||""==e.company.authKey)return console.warn("[BodaApi] company.authKey is required."),c(g.NONE_COMPANY_INFO,"company.authKey"),!1}if(a.name==this.api.open.name||a.name==this.api.openJoin.name||a.name==this.api.join.name||a.name==this.api.close.name){if(void 0==b.roomCode||""==b.roomCode)return console.warn("[BodaApi] roomCode is required."),c(g.NONE_REQUIRED_VALUE,"roomCode"),!1;if(!e.client.encrypt){if(32<b.roomCode.length)return console.warn("[BodaApi] roomCode is invalid. (max length: 32)"),
c(g.INVALID_VALUE,"roomCode"),!1;var d=t.leadingZeros(e.company.code,6),h=b.roomCode.substr(0,6);if(d!=h)return console.warn("[BodaApi] roomCode is invalid. (prefix not match companyCode)"),c(g.INVALID_VALUE,"roomCode"),!1}}if(a.name==this.api.open.name||a.name==this.api.openJoin.name){if(void 0===b.template||""===b.template)return console.warn("[BodaApi] template is required."),c(g.NONE_REQUIRED_VALUE,"template"),!1;d=Number(b.template);if(!d||0>d)return console.warn("[BodaApi] template is invalid. (only Number)"),
c(g.INVALID_VALUE,"template"),!1;b.template=d}if(a.name==this.api.open.name||a.name==this.api.openJoin.name)if(void 0==b.title||""==b.title)return console.warn("[BodaApi] title is required."),c(g.NONE_REQUIRED_VALUE,"title"),!1;if(a.name==this.api.openJoin.name){if(void 0==b.openOption||""==b.openOption)b.openOption=0;d=Number(b.openOption);if(0>d||1<d)return console.warn("[BodaApi] openOption is invalid. (range: 0~1)"),c(g.INVALID_VALUE,"openOption"),!1;b.openOption=d}a.name!=this.api.openJoin.name||
e.client.encrypt||void 0!=b.rac&&""!=b.rac||(b.rac=0);if(a.name==this.api.open.name||a.name==this.api.openJoin.name||a.name==this.api.join.name)if(void 0==b.joinUserType||""==b.joinUserType)b.joinUserType=1;if(a.name==this.api.open.name||a.name==this.api.openJoin.name||a.name==this.api.join.name||a.name==this.api.close.name||a.name==this.api.quit.name){if(void 0==b.userId||""==b.userId)return console.warn("[BodaApi] userId is required."),c(g.NONE_REQUIRED_VALUE,"userId"),!1;if(!e.client.encrypt&&
32<b.userId.length)return console.warn("[BodaApi] userId is invalid. (max length: 32)"),c(g.INVALID_VALUE,"userId"),!1}if(a.name==this.api.open.name||a.name==this.api.openJoin.name||a.name==this.api.join.name||a.name==this.api.close.name||a.name==this.api.quit.name)if(void 0==b.userName||""==b.userName)return console.warn("[BodaApi] userName is required."),c(g.NONE_REQUIRED_VALUE,"userName"),!1;if(a.name==this.api.open.name||a.name==this.api.openJoin.name||a.name==this.api.join.name||a.name==this.api.close.name||
a.name==this.api.quit.name){if(void 0==b.deptNumber||""==b.deptNumber)b.deptNumber=0;d=Number(b.deptNumber);if(isNaN(d)||0>d)return console.warn("[BodaApi] deptNumber is invalid. (only Number)"),c(g.INVALID_VALUE,"deptNumber"),!1}if(a.name==this.api.open.name||a.name==this.api.openJoin.name||a.name==this.api.join.name){if(void 0==b.staticIp||""==t.trim(b.staticIp))b.staticIp=0;d=Number(b.staticIp);isNaN(d)?b.staticIp=0:1<d&&(b.staticIp=1)}return!0},call:function(a,b,c,e){c||(c=function(){console.info("[BodaApi] success.")});
e||(e=function(a,b){console.error("[BodaApi] error. errorCode: ",a,b)});if(this._validation(a,b,e)){var f={WIN:h.isWindows(),MAC:h.isMac(),AOS:h.isAndroid()||h.isChromeOS(),IOS:h.isIos(),WEB:b&&1==b.webRtc};if(void 0!=b.platformType&&""!=b.platformType)switch(f.WIN=!1,f.MAC=!1,f.AOS=!1,f.IOS=!1,b.platformType){case "WINDOWS":case "WIN":f.WIN=!0;break;case "MAC":f.MAC=!0;break;case "ANDROID":case "AOS":f.AOS=!0;break;case "IOS":f.IOS=!0}if(f.WEB){var k=a.name==d.api.msgExec.name?1:0,r=a.name==d.api.msgExec.name?
b.msg:u.make(a.parameters,a.name,b);a.name==d.api.open.name||a.name==d.api.openJoin.name||a.name==d.api.join.name||a.name==d.api.msgExec.name?x.exec(k,r,b,c,e):console.warn("[BodaApi] Not Supported WebRtc API.")}else if(a.name==d.api.downloadClient.name)l.exec(f,b,c,e);else if(a.name==d.api.running.name)h.isWindows()?b.agentScheme?c():n.Http.running(c,e):c();else if(a.name==d.api.installCheck.name)h.isWindows()?b.agentScheme?c():n.Http.installCheck(c,e):c();else{k=0;r=a.name==d.api.msgExec.name?b.msg:
u.make(a.parameters,a.name,b);a.name==d.api.msgExec.name&&b.msgType&&(k=1);var q=t.getTextLength(r);15E3<q?e(g.MSG_MAX_LENGTH_EXCEED,"client message ("+q+"/15000)"):a.name==d.api.checkTraffic.name?h.isWindows()?b.agentScheme?c():n.Http.checkTraffic(r,c,e):c():f.WIN?a.name==d.api.webMessage.name||a.name==d.api.message.name||a.name==d.api.openWebPage.name?b.agentScheme?c():n.Http.running(function(){n.exec(k,r,c,e)},e):b.agentScheme?n.Scheme.exec(k,r,c,e):n.Http.exec(k,r,c,e):f.MAC||f.AOS||f.IOS?w.exec(f,
k,r,c,e):(console.warn("[BodaApi] Not Supported Device."),e(g.NOT_SUPPORTED_DEVICE,b.platformType))}}}},q={VERSION:"751.5",defaultSettings:function(a){if("undefined"!=typeof a&&"object"!=typeof a)return console.error("[BodaApi] argument type only Object. input type: "+typeof a),e;$.extend(!0,e,a);e.debug&&console.debug("[BodaApi] settings: ",e);return e},runCheck:function(a,b,c){console.info("[BodaApi] runCheck");d.call(d.api.running,a,b,c)},installCheck:function(a,b,c){console.info("[BodaApi] installCheck");
d.call(d.api.installCheck,a,b,c)},open:function(a,b,c){console.info("[BodaApi] open");d.call(d.api.open,a,b,c)},openJoin:function(a,b,c){console.info("[BodaApi] openJoin");d.call(d.api.openJoin,a,b,c)},join:function(a,b,c){console.info("[BodaApi] join");d.call(d.api.join,a,b,c)},close:function(a,b,c){console.info("[BodaApi] close");d.call(d.api.close,a,b,c)},quit:function(a,b,c){console.info("[BodaApi] quit");d.call(d.api.quit,a,b,c)},end:function(a,b,c){console.info("[BodaApi] end");d.call(d.api.end,
a,b,c)},avset:function(a,b,c){console.info("[BodaApi] avset");d.call(d.api.avset,{},b,c)},play:function(a,b,c){console.info("[BodaApi] play");d.call(d.api.play,a,b,c)},msgExec:function(a,b,c){console.info("[BodaApi] msgExec");d.call(d.api.msgExec,a,b,c)},downloadClient:function(a,b,c){console.info("[BodaApi] downloadClient");d.call(d.api.downloadClient,a,b,c)},webLoad:function(a,b,c){console.info("[BodaApi] webLoad");d.call(d.api.webLoad,a,b,c)},logout:function(a,b,c){console.info("[BodaApi] logout");
d.call(d.api.logout,{},b,c)},relogin:function(a,b,c){console.info("[BodaApi] relogin");d.call(d.api.relogin,{},b,c)},webMessage:function(a,b,c){console.info("[BodaApi] webMessage");d.call(d.api.webMessage,a,b,c)},message:function(a,b,c){console.info("[BodaApi] message");d.call(d.api.message,a,b,c)},openWebPage:function(a,b,c){console.info("[BodaApi] message");d.call(d.api.openWebPage,a,b,c)},exec:function(a,b,c){console.info("[BodaApi] exec");d.call(d.api.exec,a,b,c)},checkTraffic:function(a,b,c){console.info("[BodaApi] trafficCheck");
d.call(d.api.checkTraffic,a,b,c)}};k.MvApi=q;k.BodaApi=q}})(window);